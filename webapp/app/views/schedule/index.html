<ui-view>
    <div class="row" ng-show="error">
        <div class="col-md-12">
            <div class="alert alert-warning" role="alert">激活学期已结束或未开始</div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <h4>学期名:{{semester.name}}</h4>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <form class="form-inline" method="get" ng-submit="reload()">
                <label>周次：</label>
                <input type="number" name="weekOrder" class="form-control" placeholder="周次" ng-model="query.weekOrder" max="{{query.maxWeekOrder}}" min="1" />
                <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i>&nbsp;查询</button>
            </form>
        </div>
        <div class="col-md-6 col-md-push-2">
            <span style="background-color: red" class="badge">请假</span>&nbsp;
            <span style="background-color: green;" class="badge">有课</span>&nbsp;
            <span style="background-color: blue;" class="badge">无课</span>&nbsp;
            <span style="background-color: black;" class="badge">休息</span>&nbsp;
        </div>
    </div>
    <br>
    <table class="table table-bordered table-condensed" style="border-collapse: separate;">
        <tr>
            <th style="text-align: center;background-color: #fafafa;">周次</th>
            <th style="text-align: center;">第一节</th>
            <th style="text-align: center;">第二节</th>
            <th style="text-align: center;">第三节</th>
            <th style="text-align: center;">第四节</th>
            <th style="text-align: center;">第五节</th>
        </tr>
        <tr ng-repeat="(key, value) in schedules">
            <td style="background-color: #fafafa;text-align: center;">星期{{key + 1}}</td>
            <td ng-repeat="schedule in value track by $index" style="height: 1px;">
                <p ng-class="{true: 'bg-success', false: 'bg-primary'}[student.state]" ng-repeat="student in schedule.students" style="text-align: center;width: 50%;margin-right: auto;margin-left: auto;">{{student.name}}</p>
            </td>
        </tr>
    </table>
</ui-view>
